<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Project Status</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <div class="logo">
    <a href="index.html"><img src="logo.PNG" alt="APEC Homes" class="logo-img"></a>
  </div>
  <nav>
    <a href="index.html">Home</a>
    <a href="glinks.html">G.Links</a>
    <a href="downloadables.html">Downloadables</a>
    <a href="tracker.html">Issue Tracker</a>
    <a href="projstat.html" class="active">Project Status</a>
  </nav>
</header>

<div class="page projstat-page">
  <section class="projstat-hero">
    <h2>Project Status Overview</h2>
    <p class="helper-text">Paste a Google Sheets link (or raw sheet ID) to load project status data with live summary and filters.</p>

    <form id="sheet-source-form" class="status-source-form" autocomplete="off">
      <label for="sheet-source-input" class="status-source-label">Google Sheets Link or Sheet ID</label>
      <div class="status-source-row">
        <input id="sheet-source-input" class="status-source-input" type="text" placeholder="https://docs.google.com/spreadsheets/d/..." required>
        <button type="submit" id="use-file-button" class="drive-button">View Data</button>
        <button type="button" id="sheet-source-reset" class="small-btn secondary-btn">Reset</button>
      </div>
      <p id="sheet-source-feedback" class="copy-feedback" aria-live="polite"></p>
    </form>
  </section>

  <section class="status-kpis" aria-label="Project status summary">
    <article class="metric-card">
      <span class="metric-label">Total Projects</span>
      <strong class="metric-value" id="kpi-total-projects">0</strong>
    </article>
    <article class="metric-card">
      <span class="metric-label">Total Milestones</span>
      <strong class="metric-value" id="kpi-total-milestones">0</strong>
    </article>
  </section>

  <section class="status-panel" aria-label="Project status filters">
    <div class="panel-title-row">
      <h3 class="section-title">Filters</h3>
    </div>
    <div class="status-filters-row">
      <label class="status-filter-item" for="system-filter">
        <span>System</span>
        <select id="system-filter">
          <option value="">All Systems</option>
        </select>
      </label>
      <label class="status-filter-item" for="milestone-filter">
        <span>Milestone</span>
        <select id="milestone-filter">
          <option value="">All Milestones</option>
        </select>
      </label>
      <label class="status-filter-item" for="sheet-search">
        <span>Search</span>
        <input id="sheet-search" type="search" placeholder="Search system, milestone, developer, manager" />
      </label>
    </div>
  </section>

  <section class="status-panel" id="project-status-table" tabindex="-1" aria-label="Project status table section">
    <div class="panel-title-row">
      <h3 class="section-title">Project Status Table</h3>
      <span class="layout-note">Rows and columns mirror the source sheet</span>
    </div>
    <div class="table-wrap status-table-scroll" role="region" aria-label="Project status table scroll container">
      <table class="issues-table" aria-label="Project status table">
        <thead id="status-table-head"></thead>
        <tbody id="status-table-body">
          <tr><td class="empty-state" colspan="1">Paste a Google Sheet and click View Data.</td></tr>
        </tbody>
      </table>
    </div>
  </section>
</div>

<script src="projstat.js"></script>
</body>
</html>
